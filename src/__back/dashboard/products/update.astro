---
import DashboardLayout from '@/layouts/DashboardLayout.astro'
import Button from '@/components/ui/Button.astro'
---

<DashboardLayout>
	<form action="http://localhost:4000/upload" method="POST" enctype="multipart/form-data">
		<input type="file" name="image" />
		<button type="submit">Upload</button>
	</form>
</DashboardLayout>
<script>
	const form = document.querySelector('form') as HTMLFormElement
	form.addEventListener('submit', (event) => {
		event.preventDefault()

		fetch('http://localhost:4000/upload', {
			method: 'POST',
			body: new FormData(form),
			headers: {
				contentType: 'multipart/form-data',
			},
		})
	})
</script>
